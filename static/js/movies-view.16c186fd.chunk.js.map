{"version":3,"sources":["services/TMDB.js","components/List/List.module.css","components/ItemList/ItemList.module.css","components/Button/Button.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/ItemList/ItemList.jsx","components/List/List.jsx","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/Button/Button.jsx","pages/MoviesPage.js"],"names":["KEY_API","getTrending","page","a","params","axios","get","response","results","data","console","error","searchMovies","query","getMovieDetails","movie_id","getMovieCredits","cast","getMovieReviews","defaults","baseURL","module","exports","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","ItemList","backdrop_path","original_title","release_date","poster_path","vote_average","movieId","className","s","item","to","link","src","alt","text_date","TrendingList","list","map","id","Searchbar","onSubmit","useState","setQuery","searchbar","searchForm","e","preventDefault","trim","toast","type","searchForm__button","searchForm__label","searchForm__input","name","value","placeholder","onChange","target","toLowerCase","Button","loadMore","container","button","onClick","MoviesPage","setPage","movies","setMovies","useEffect","then","catch","log","getMovies","List","state"],"mappings":"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","file":"static/js/movies-view.16c186fd.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3/';\r\nconst KEY_API = 'e34f3290161d1b3f73683dcba0238c76';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\n\r\nexport async function getTrending(page) {\r\n  let params = `trending/movie/day?api_key=${KEY_API}`;\r\n  try {\r\n    const response = await axios.get(params);\r\n    const results = response.data.results;\r\n\r\n    // console.log(response)\r\n    // console.log(results);\r\n\r\n    return results;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport async function searchMovies(query, page) {\r\n  let params = `search/movie?query=${query}&api_key=${KEY_API}&language=en-US&page=${page}&include_adult=false`;\r\n  try {\r\n    const response = await axios.get(params);\r\n    const results = response.data.results;\r\n\r\n    return results;\r\n\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\nexport async function getMovieDetails(movie_id) {\r\n  let params = `movie/${movie_id}?api_key=${KEY_API}&language=en-US`;\r\n  try {\r\n    const response = await axios.get(params);\r\n    const results = response.data;\r\n\r\n    return results;\r\n\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\nexport async function getMovieCredits(movie_id) {\r\n  let params = `movie/${movie_id}/credits?api_key=${KEY_API}&language=en-US`;\r\n  try {\r\n    const response = await axios.get(params);\r\n    const results = response.data.cast;\r\n\r\n    return results;\r\n\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\n\r\n\r\nexport async function getMovieReviews(movie_id) {\r\n  let params = `movie/${movie_id}/reviews?api_key=${KEY_API}&language=en-US&page=1`;\r\n  try {\r\n    const response = await axios.get(params);\r\n    const results = response.data.results;\r\n\r\n    return results;\r\n    \r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__3D-U0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ItemList_item__12lSE\",\"text_date\":\"ItemList_text_date__UC3Xz\",\"link\":\"ItemList_link__feOOO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__TXRRH\",\"container\":\"Button_container__2Ma9P\"};","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport s from './ItemList.module.css';\r\n\r\nexport default function ItemList({\r\n  backdrop_path,\r\n  original_title,\r\n  poster_path,\r\n  release_date,\r\n  vote_average,\r\n  movieId,\r\n}) {\r\n  \r\n\r\n  return (\r\n    \r\n      \r\n    <li className={s.item}>\r\n      <Link to={`/movies/${movieId}`} className={s.link}>\r\n          <article>\r\n            <img\r\n              src={`https://image.tmdb.org/t/p/w780${backdrop_path}`}\r\n              alt={original_title}\r\n            />\r\n            <h3>{original_title}</h3>\r\n            <p>Release date:\r\n              <span className={s.text_date}>\r\n                {release_date}\r\n              </span>\r\n            </p>\r\n            <p>Rating: {vote_average}</p>\r\n          </article>\r\n      </Link>    \r\n    </li>\r\n      \r\n    \r\n    \r\n  );\r\n}\r\n\r\nItemList.propTypes = {\r\n  // id: PropTypes.number.isRequired,\r\n  backdrop_path: PropTypes.string,\r\n  original_title: PropTypes.string,\r\n  poster_path: PropTypes.string,\r\n  release_date: PropTypes.string,\r\n  vote_average: PropTypes.number,\r\n  movieId: PropTypes.number,\r\n};\r\n\r\n// backdrop_path: \"/cinER0ESG0eJ49kXlExM0MEWGxW.jpg\"\r\n// genre_ids: (3) [28, 12, 14]\r\n// id: 566525\r\n// media_type: \"movie\"\r\n// original_language: \"en\"\r\n// original_title: \"Shang-Chi and the Legend of the Ten Rings\"\r\n// overview: \"Shang-Chi must confront the past he thought he left behind when he is drawn into the web of the mysterious Ten Rings organization.\"\r\n// popularity: 1858.052\r\n// poster_path: \"/1BIoJGKbXjdFDAqUEiA2VHqkK1Z.jpg\"\r\n// release_date: \"2021-09-01\"\r\n// title: \"Shang-Chi and the Legend of the Ten Rings\"\r\n// video: false\r\n// vote_average: 7.8\r\n// vote_count: 1556\r\n","import PropTypes from 'prop-types';\r\nimport s from './List.module.css';\r\nimport ItemList from '../ItemList/ItemList';\r\n\r\n\r\nexport default function TrendingList({ list }) {\r\n  \r\n  return (\r\n    <ul className={s.list}>\r\n      {list.map(\r\n        ({\r\n          id,\r\n          backdrop_path,\r\n          original_title,\r\n          poster_path,\r\n          release_date,\r\n          vote_average,\r\n        }) => (\r\n          <ItemList\r\n            key={id}\r\n            movieId={id}\r\n            backdrop_path={backdrop_path}\r\n            original_title={original_title}\r\n            poster_path={poster_path}\r\n            release_date={release_date}\r\n            vote_average={vote_average}\r\n          />\r\n        ),\r\n      )}\r\n    </ul>\r\n  );\r\n}\r\n\r\nTrendingList.propTypes = {\r\n  list: PropTypes.array.isRequired,\r\n};\r\n\r\n// backdrop_path: \"/cinER0ESG0eJ49kXlExM0MEWGxW.jpg\"\r\n// genre_ids: (3) [28, 12, 14]\r\n// id: 566525\r\n// media_type: \"movie\"\r\n// original_language: \"en\"\r\n// original_title: \"Shang-Chi and the Legend of the Ten Rings\"\r\n// overview: \"Shang-Chi must confront the past he thought he left behind when he is drawn into the web of the mysterious Ten Rings organization.\"\r\n// popularity: 1858.052\r\n// poster_path: \"/1BIoJGKbXjdFDAqUEiA2VHqkK1Z.jpg\"\r\n// release_date: \"2021-09-01\"\r\n// title: \"Shang-Chi and the Legend of the Ten Rings\"\r\n// video: false\r\n// vote_average: 7.8\r\n// vote_count: 1556\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__1rgrd\",\"searchForm\":\"Searchbar_searchForm__3j5SU\",\"searchForm__button\":\"Searchbar_searchForm__button__1mv5T\",\"searchForm__label\":\"Searchbar_searchForm__label__2ippm\",\"searchForm__input\":\"Searchbar_searchForm__input__3p365\"};","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (query.trim() === '') {\r\n      return toast.error('Enter a normal query!');\r\n    }\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n\r\n  const handlEqueryChange = e => {\r\n    setQuery(e.target.value.toLowerCase());\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form className={s.searchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.searchForm__button}>\r\n          <span className={s.searchForm__label}>Search images and fotos</span>\r\n        </button>\r\n        <input\r\n          className={s.searchForm__input}\r\n          type=\"text\"\r\n          name=\"search\"\r\n          value={query}\r\n          // autocomplete=\"off\"\r\n          // autofocus\r\n          placeholder=\"Search movies\"\r\n          onChange={handlEqueryChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nimport s from './Button.module.css';\r\n\r\nconst Button = ({ loadMore }) => (\r\n  <div className={s.container}>\r\n    <button type=\"button\" className={s.button} onClick={loadMore}>\r\n      Load more\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { useState, useEffect } from 'react';\r\n\r\nimport { searchMovies } from '../services/TMDB';\r\nimport Searchbar from '../components/Searchbar/Searchbar';\r\nimport List from '../components/List/List';\r\nimport Button from '../components/Button/Button';\r\n\r\nexport default function MoviesPage() {\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [movies, setMovies] = useState(null);\r\n\r\n  const handleFormSubmit = (query) => {\r\n     setQuery(query);\r\n     setPage(1);\r\n     setMovies([]);\r\n  };\r\n  const getMovies = (query, page) => {\r\n    searchMovies(query, page)\r\n      .then(results => {\r\n        setMovies([...movies, ...results]);\r\n        \r\n      })\r\n      .catch(error => console.log(error));\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    if (!query) {\r\n      return;\r\n    };\r\n    getMovies(query, page);\r\n\r\n  }, [query, page]);\r\n\r\n\r\n  const loadMore = () => {\r\n    setPage(state => state + 1);\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      {movies && (\r\n        <>\r\n          <List list={movies} />\r\n          <Button loadMore={loadMore} />\r\n        </>\r\n      )}\r\n      \r\n    </>\r\n  );\r\n}\r\n"],"sourceRoot":""}